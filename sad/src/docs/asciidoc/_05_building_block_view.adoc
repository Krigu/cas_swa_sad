[[section-building-block-view]]


== Bausteinsicht

[role="arc42help"]
****
.Inhalt
Statische Zerlegung des Systems in Bausteine
(Module, Komponenten, Subsysteme, Teilsysteme, Klassen,
Interfaces, Pakete, Bibliotheken, Frameworks, Schichten,
Partitionen, Tiers, Funktionen, Makros, Operationen,
Datenstrukturen...) sowie deren Beziehungen.

.Motivation
Dies ist die wichtigste Sicht, die in jeder Architekturdokumentation
vorhanden sein muss. In der Analogie zum Hausbau bildet die Bausteinsicht
den _Grundrissplan_.

.Form
Die Bausteinsicht ist eine hierarchische Sammlung von Blackbox- und Whitebox- Beschreibungen (siehe Abbildung unten):

*Ebene 1* ist die Whitebox-Beschreibung des Gesamtsystems (System under Development / SUD) mit den Blackbox- Beschreibungen der Bausteine des Gesamtsystems

*Ebene 2* zoomt dann in einige Bausteine der Ebene 1 hinein.
Sie enthält somit alle vorhandenen Whitebox-Beschreibungen von Bausteinen
der Ebene 1, zusammen mit den Blackbox-Beschreibungen der Bausteine von Ebene 2.

*Ebene 3* zoomt in einige Bausteine der Ebene 2 hinein, usw.


.Whitebox-Template
Enthält mehrere Bausteine (== Blackboxes),
zu denen Sie jeweils eine Blackbox Beschreibung erstellen können.

.Blackbox-Template (Kurzfassung)
Für jeden Baustein aus dem White-Box-Template können Sie folgende Angaben
machen: (Kopieren Sie diese Punkte in die folgenden Unterkapitel)

include::_template-blackbox-short.adoc[]

(eine ausführlichere Fassung des Blackbox-Templates finden Sie weiter unten.)
****


=== Whitebox Gesamtsystem

[role="arc42help"]
****
An dieser Stelle beschreiben Sie die Whitebox-Sicht der Ebene 1 gemäß dem
Whitebox-Template.

Das Überblicksbild zeigt das Innenleben des Gesamtsystems
mit den darin enthaltenen Bausteinen 1 .. n,
sowie deren Zusammenhänge und Abhängigkeiten.

Begründen Sie die Struktur: Warum gibt es diese Bausteine mit
diesen Abhängigkeiten/Schnittstellen.

Erklären Sie ggfs. auch verworfene Alternativen,
mitsamt Begründung, warum sie verworfen wurden.

****

Übersicht / Struktur::
Die folgende Abbildung zeigt das Gesamtsystem mit externen Bestandteilen

image::05_bausteinsicht_level0.png["Baustein Sicht Level 0"]


Enthaltene Bausteine::

[cols="1,4,1" options=""]
|===
| OTS | Das Online Ticketing System (Dieses Projekt) | siehe Kapitel 5.2
| Bernutzer | verschiedene Benutzer die auf das OTS zugreifen |
| Emailsystem | Externes E-Mail System |
| Paymentsystem | Externer Zahlungsdienstleister |
|===


Schnittstellen::
(siehe auch Kapitel 3.3)
[cols="1,4" options=""]
|===
| User-Schnittstelle | Webbasiertes User-Interface
| E-Mail-Schnittstelle | Schnittstelle zum Externen E-Mail System
| Payment-Schnittstelle | Schnittstelle zum Externen Payment System
|===


==== Emailsystem (Blackbox)

Externes E-Mail System. Das vorhandene E-Mail System der Z-Group.

*Zweck:* Versenden von Buchungsbestätigunen

.Schnittstellen _Bausteinname_:
[cols="1,2" options=""]
|===
| E-Mail-Schnittstelle | Schnittstelle welche vom OTS genutzt wird um Buchungsbestätigunen zu versenden
|===

==== Paymentsystem (Blackbox)

Externes Payment System. Im moment ist noch nicht definiert welches konkrete System hier angebunden wird.

*Zweck:* Abwicklung der Zahlung für Ticket-Käufe per Kredit-Karte

.Schnittstellen _Bausteinname_:
[cols="1,2" options=""]
|===
| Payment-Schnittstelle | Schnittstelle welche vom OTS genutzt wird um die Bezahlung von Ticketkäufen abzuwickeln
|===

=== Ebene 2

[role="arc42help"]
****
An dieser Stelle können Sie den inneren Aufbau
(einiger) Bausteine aus Ebene 1 als Whitebox beschreiben.
****

==== OTS (Whitebox)

[role="arc42help"]
****
* ...zeigt das Innenleben von _Baustein 1_ in Diagrammform
mit den lokalen Bausteinen 1.1 - 1.n,
sowie deren Zusammenhänge und Abhängigkeiten.
* begründet diese Struktur
****

Übersicht / Struktur::

Die folgende Abbildung zeigt die inneren Bestandteile des OTS
und dessen Abhängigkeiten.

image::05_bausteinsicht_level1.png["Baustein Sicht Level 1"]

Begründung::
Schichten Architektur, mit User-Interface auf der ersten Ebene (Frontend),
Buissness-Logik in der Mitte und einer Infrastruktur Komponente für die Abstraktion
Der externen Schnittstellen unten dran.


Enthaltene Bausteine::

[cols="1,4,1" options=""]
|===
| Frontend            | Web-Applikations-Frontend für Online-User und Box-Office-User |
| Admininterface      | Vorerst *nicht* implementiertes Administrations Interface |
| Buchungsverwaltung  | Logik für die Platzreservation und Buchung inkl. Bezahlung | siehe 5.3.1
| Showverwaltung      | Logik zur Verknüpfung von Show und Saal-Konfiguration | siehe 5.3.2
| Saalverwaltung      | Logik zur Konfiguration des Saales | siehe 5.3.2
| Infrastruktur-Modul | Adapter für Zugriff auf interne / externe Systeme | siehe 5.3.1
| DB                  | Z-Group-interne Datenbank |
| Paymentsystem       | Externes Payment-System | siehe 5.1.2
| Mailsystem          | Externes E-Mail-System  | siehe 5.1.1
|===


Schnittstellen::

[cols="1,4" options=""]
|===
| Datenbank-Schnittstelle | Datenbank Zugriff für Show- und Buchungs-Verwaltung
|===

===== Frontend (Blackbox)

*Zweck:* Zuriff auf die Show-Auswahl und das Buchungs-System

.Schnittstellen _Bausteinname_:
[cols="1,2" options=""]
|===
| User-Schnittstelle | Web-Interface für Online- und Box-Office-User
|===


===== Buchungsverwaltung (Blackbox)

*Zweck:* Zentrale Logik für Reservations- und Buchungs-Verarbeitung


===== Showverwaltung (Blackbox)

*Zweck:* Definiert Shows und Performances inkl. Preisgestaltung und zugehöriger Saalkonfiguration

===== Saalverwaltung (Blackbox)

*Zweck:* Definiert den Saal sowie verschiedene Saal-Konfigurationen

===== DB (Blackbox)

*Zweck:* persistierung der OTS Daten

Hier werden die Daten welche von verschiedenen Modulen benögit werden verwaltet/gespeichert:

* Saal-Konfiguration
* Show/Performance Information inkl. Preisgestaltung
* Kunden-Daten (keine Kreditkarten Daten)
* Buchungen und Reservationen

=== Ebene 3

[role="arc42help"]
****
An dieser Stelle können Sie den inneren Aufbau
(einiger) Bausteine aus Ebene 2 als Whitebox beschreiben.
****

[role="arc42help"]
****
Welche Bausteine Ihres Systems Sie hier beschreiben, müssen Sie
selbst entscheiden. Bitte stellen Sie dabei Relevanz vor Vollständigkeit.
Skizzieren Sie wichtige, überraschende, riskante, komplexe oder besonders
volatile Bausteine. Normale, einfache oder standardisierte Teile sollten
Sie weglassen.
****

==== Buchungs-Verwaltung (Whitebox)

Übersicht / Struktur::
Baustein Übersicht der Show- und Saal-Verwaltung

image::05_bausteinsicht_level2-BuchungsVerwaltung.png["Baustein Sicht Level 2 der Buchungs-Verwaltung"]

Begründung::
Die Buchungsverwaltung stellt über den Buchungs-Service eine Schnittstelle zur Verfügung
über die Das Frontend Informationen zu Shows und Performaces abrufen, sowie Sitzplatz-Buchungen
durchgeführt werden können.


Enthaltene Bausteine::

[cols="1,4,1" options=""]
|===
| Buchungs-Service  | Stellt Schnittstelle für Show-Informationen sowie den Buchungs-Prozess zur Verfügung |
| Buchungs-Manager  | Erzeugt Reservationen und Buchungen |
| Show-Accessor     | Zugriff auf Informationen der einzelnen Shows und Performances |
|===

===== Buchungs-Service (Blackbox)

*Zweck:* Zugriff auf Show-Information und den Reservations- und Buchungs-Prozess

Dieses Modul ist zuständig, dass freie Sitze gefunden werden und eine Reservation erzeugt wird.
Weiter führt es eine Reservation bei erfolgreicher Bezahlung in eine definitive Buchung über.
Hier wird der Algorythmus zur Suche nach freien Sitzen implementiert (Prototyp).

===== Show-Accessor (Blackbox)

*Zweck:* Zugriff auf Show und Performance Informationen


==== Infrastruktur-Modul (Whitebox)

Das Infrastruktur-Modul beinhaltet Adapter zur Kommunikation mit externen Systemen sowie zur
perstistierung von Daten an.

Enthaltene Bausteine::

[cols="1,4,1" options=""]
|===
| E-Mail-Service-Adapter | Adapter für die Schnittstelle zum externen E-Mail-System |
| Payment-Service-Adapter | Adapter für die Schnittstelle zum externen Zahlungs-Dienstleister |
| Persistierungs-Adapter | Adapter zur DB |
|===



==== _Show- und Saal-Verwaltung_ (Whitebox)

Übersicht / Struktur::
Baustein übersicht der Show- und Saal-Verwaltung

image::05_bausteinsicht_showverwaltung.png["Baustein Sicht Level 2"]

Begründung::
* Eine Performance definiert sich aus der Verknüpfung einer Show mit einer gewissen Preisgestaltung,
und findet zu einem gewissen Zeitpunkt statt.
* Die Preisgestaltung defniert einen Preis für eine gewisse Sitzplatzkategorie.
* Eine Show findet in einem Saal mit einer gewissen Konfiguration statt.
* Ein Saalkonfiguration basiert auf einem Saal mit der zusätzlichen Information,
welche Sitzplätze aktiv sind und welcher Kategorie sie angehören.


Enthaltene Bausteine::

[cols="1,4,1" options=""]
|===
| Show | Definition einer Show | siehe Glossar
| Performance | Definition einer Performance | siehe Glossar
| Preisgestaltung | Definition einer Preisgestaltung: Preis pro Kategorie | siehe Glossar
| Saalkonfiguration | Defition einer Saalkonfiguration: aktive Sitzplätze inkl Kategorie | siehe Glossar
| Saal | Definition eines Saals | siehe Glossar
|===
